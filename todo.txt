//TODO: current plans:
// implement inline rolls in all kinds of chat messages (normal, whisper, template) format: "Here is a normal message with inline [[1d20 + 7]] and triggered [[!5d5[ice] + 5]] rolls"
// webrtc settings (input devices)
// rethink entity menu (it has become quite large)
// allow players to end turns of their tokens in battle
// allow interacting with doors in CanvasModeEntities as long as a controllable entity is near it (toggle isOpen or play locked sound)
// add motd (and maybe more? - maybe allow customizing the backgrounds) to login screen
// language/translation support (including settings option)
// make pf character sheet more complete (atleast: movementrates, ...) AND replace with custom no copyright sheet
// support sending selected entities of other types
// Doppelklick um Dinge zu Ã¶ffnen
// create real "import" command line functionality on server (+ other commands?)

//TODO: Long term technical todos
// Use Mocha (https://mochajs.org/#getting-started) for writing unit tests
// Maybe: Switch to TypeScript (would be nice to have typed variables/... but might come with multiple complications)

//TODO: when the web client porting is done:
// Add an "fileRenamed" event and a listener that adjusts token imagePath and audioPath properties to server
// "Area" module (you can define areas, maybe using the drawing system, that can influence stuff, 
//               first idea: "no weather/indoor" areas where the WeatherRenderer does not spawn particles)

//TODO: dice/template/scripting rework
//    not as important: (using a string property as part of the expression (cheap solution would be replacing before parsing, but that can be done better...))
//    storing a evaluated expression and reusing that (multiple times) as part of other expressions (so not just the resulting value, but also the full "result" object)
//    better display of eval results (calculations for dice sides/count/... are not show at all currently)

//TODO: Current Priorities:
// journal: entity with a single (html) string, that can be shown/viewed
// more keyboard shortcuts (camera moving, ...)
// Add optional "attachment" macros

//TODO: And the completely insane next plan:
//    Rework the entity system (the current one always needs to transmit and iterate all for everything -> performance degradation with many maps)
//      Maps, Actors and Attachments remain the only "global" entities
//      Tokens, Walls, Drawings, ... are stored in the maps (not as properties, a sepparate system that can allow gradual loading of map content)
//
// Convert ALL entities to be FULLY data defined/driven
//    Add remaining data defined stuff: cascading deletes
//    Verify entity type on entitymanager add / other locations
// 
// split attachments into more logical separate things:
//    items
//    features
//    spells
//    journal entries

//TODO: Nice to haves:
// more "Effects" for use with the effect command (-> i.e. attack animations and magic)
// Script support (server side, how would I keep them "safe", maybe just keep it at modules)
// a "map" function for an actual map somehow?

//TODO: Get rid of rarely used libraries:
// jquery (including jquery ui): needs writing my own tab, window and context menu system, search for "$.ajax(" and "$(" to find remaining usages

//TODO: future (not sure about how to implement it technically)
// implement a "local token copy" of actor system (one global actor, but changes made are stored per token not in the actor? needs to work differently on a technical level)
// -> allows for creating an in tool "monster manual" that can easily spawn in premade tokens but keep temporary modifier changes per token

//TODO: Technical:
// improve entity management: async saving has fixed the biggest delay problem for now, but maybe there is a better way than resaving all entities on a single prop change?
// improve access management: Currently all tokens and walls are synched even for inaccessible maps, And maps require a forced sync for players (that may be a good thing?)
